<h2>List of Ingredients</h2>

<ul>
    <li *ngFor="let ingredient of ingredients$ | async">

        <form #f="ngForm" (ngSubmit)="putIngredient(ingredient)">

            Name: <input #name="ngModel" type="text" name="name" [(ngModel)]="ingredient.name" [disabled]="!ingredient.isEditable" required/>
            <div *ngIf="name.invalid && name.errors.required">Name is required</div>
            <br>
      
            Description: <input #description="ngModel" type="text" name="description" [(ngModel)]="ingredient.description" [disabled]="!ingredient.isEditable" required/>
            <div *ngIf="description.invalid && description.errors.required">Description is required</div>
            <br>
      
            <button *ngIf="!ingredient.isEditable" (click)="ingredient.isEditable=!ingredient.isEditable">Edit</button>
            <button type="submit" *ngIf="ingredient.isEditable" [disabled]="f.form.invalid">Save</button>
            <button type="button" (click)=deleteIngredient(ingredient.id)>Delete</button>
          </form>
    </li>
</ul>

<h2>Create a Task</h2>
<form [formGroup]="ingredient_form" (ngSubmit)="onSubmit()">

    <label for="name">Name</label>
    <input type="text" formControlName="name" required>
    <br>
    <label for="description">Description</label>
    <input type="text" formControlName="description" required>
	<br>
    <button type="submit" [disabled]="ingredient_form.invalid">Add Task</button>
</form>